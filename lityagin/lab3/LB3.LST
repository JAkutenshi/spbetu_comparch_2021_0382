Microsoft (R) Macro Assembler Version 5.10                  10/20/21 22:08:4
                                                             Page     1-1


 0000				AStack SEGMENT STACK
 0000  000C[			 DW 12 DUP(?)
	   ????			
			 ]	
				
 0018				AStack ENDS
				
 0000				DATA SEGMENT
 0000  0002			a DW 2
 0002  0004			b DW 4
 0004  FFFD			i DW -3
 0006  0005			k DW 5
 0008  0000			i1 DW 0
 000A  0000			i2 DW 0
 000C  0000			res DW 0
 000E				DATA ENDS
				
 0000				CODE SEGMENT
				 ASSUME CS:CODE, DS:DATA, SS:AStack
				
 0000				Main PROC FAR
 0000  1E				push DS
 0001  2B C0				sub AX,AX
 0003  50				push AX
 0004  B8 ---- R			mov AX,DATA
 0007  8E D8				mov DS,AX
 0009				f1:
 0009  A1 0004 R			mov AX, i
 000C  D1 E0				shl AX, 1 ; 2i
 000E  D1 E0				shl AX, 1 ; 4i
 0010  8B 0E 0000 R			mov CX, a
 0014  3B 0E 0002 R			cmp CX, b
 0018  7E 08				jle f1_2 ; a<=b
 001A				f1_1:
 001A  05 0003				add AX, 3 ; 4i+3
 001D  F7 D8				neg AX ; -(4i+3)
 001F  EB 0E 90				jmp f1_res
 0022				f1_2:
 0022  D1 E0				shl AX, 1 ; 8i
 0024  8B 1E 0004 R			mov BX, i
 0028  D1 E3				shl BX, 1
 002A  2B C3				sub AX, BX ; 6i
 002C  2D 000A				sub AX, 10 ; 6i - 10
 002F				f1_res:
 002F  A3 0008 R			mov i1, AX
 0032				f2:
 0032  A1 0004 R			mov AX, i
 0035  05 0001				add AX, 1 ; i+1
 0038  8B 0E 0000 R			mov CX, a
 003C  3B 0E 0002 R			cmp CX, b
 0040  7E 08				jle f2_2 ; a<=b
 0042				f2_1:
 0042  D1 E0				shl AX, 1 ; 2*(i+1)
 0044  2D 0004				sub AX, 4 ; 2*(i+1) - 4
Microsoft (R) Macro Assembler Version 5.10                  10/20/21 22:08:4
                                                             Page     1-2


 0047  EB 0E 90				jmp f2_res
 004A				f2_2:
 004A  8B D8				mov BX, AX; (i+1)
 004C  D1 E0				shl AX, 1 ; 2*(i+1)
 004E  D1 E0				shl AX, 1 ; 4*(i+1)
 0050  2B C3				sub AX, BX ; 3*(i+1)
 0052  F7 D8				neg AX ; -3*(i+1)
 0054  05 0005				add AX, 5 ; 5-3*(i+1)
 0057				f2_res:
 0057  A3 000A R			mov i2, AX
 005A				f3:
 005A  8B 0E 000A R			mov CX, i2
 005E  83 F9 00				cmp CX, 0
 0061  7C 1E				jl abs_i2 ; i2 < 0
 0063  8B 0E 0008 R			mov CX, i1
 0067  83 F9 00				cmp CX, 0
 006A  7C 0C				jl abs_i1 ; i1 < 0
 006C  8B 0E 0006 R			mov CX, k
 0070  83 F9 00				cmp CX, 0
 0073  74 1F				je f3_1 ; k = 0
 0075  EB 13 90				jmp f3_2
 0078				abs_i1:
 0078  8B C1				mov AX, CX
 007A  F7 D8				neg AX
 007C  A3 0008 R			mov i1, AX ; |i1|
 007F  EB D9				jmp f3
 0081				abs_i2:
 0081  8B C1				mov AX, CX
 0083  F7 D8				neg AX
 0085  A3 000A R			mov i2, AX ; |i2|
 0088  EB D0				jmp f3
 008A				f3_2:
 008A  A1 0008 R			mov AX, i1
 008D  03 06 000A R			add AX, i2 ; |i1|+|i2|
 0091  EB 16 90				jmp f3_end
 0094				f3_1:
 0094  8B 0E 0008 R			mov CX, i1
 0098  83 E9 06				sub CX, 6
 009B  7E 06				jle res1 ; i1 <= 6
 009D  B8 0006				mov AX, 6 ; 6
 00A0  EB 07 90				jmp f3_end
 00A3				res1:
 00A3  A1 0008 R			mov AX, i1 ; i1
 00A6  EB 01 90				jmp f3_end
 00A9				f3_end:
 00A9  A3 000C R			mov res, AX
 00AC  CB				ret
 00AD				Main ENDP
 00AD				CODE ENDS	
					END Main
Microsoft (R) Macro Assembler Version 5.10                  10/20/21 22:08:4
                                                             Symbols-1


Segments and Groups:

                N a m e         	Length	 Align	Combine Class

ASTACK . . . . . . . . . . . . .  	0018	PARA	STACK	
CODE . . . . . . . . . . . . . .  	00AD	PARA	NONE	
DATA . . . . . . . . . . . . . .  	000E	PARA	NONE	

Symbols:            

                N a m e         	Type	 Value	 Attr

A  . . . . . . . . . . . . . . .  	L WORD	0000	DATA
ABS_I1 . . . . . . . . . . . . .  	L NEAR	0078	CODE
ABS_I2 . . . . . . . . . . . . .  	L NEAR	0081	CODE

B  . . . . . . . . . . . . . . .  	L WORD	0002	DATA

F1 . . . . . . . . . . . . . . .  	L NEAR	0009	CODE
F1_1 . . . . . . . . . . . . . .  	L NEAR	001A	CODE
F1_2 . . . . . . . . . . . . . .  	L NEAR	0022	CODE
F1_RES . . . . . . . . . . . . .  	L NEAR	002F	CODE
F2 . . . . . . . . . . . . . . .  	L NEAR	0032	CODE
F2_1 . . . . . . . . . . . . . .  	L NEAR	0042	CODE
F2_2 . . . . . . . . . . . . . .  	L NEAR	004A	CODE
F2_RES . . . . . . . . . . . . .  	L NEAR	0057	CODE
F3 . . . . . . . . . . . . . . .  	L NEAR	005A	CODE
F3_1 . . . . . . . . . . . . . .  	L NEAR	0094	CODE
F3_2 . . . . . . . . . . . . . .  	L NEAR	008A	CODE
F3_END . . . . . . . . . . . . .  	L NEAR	00A9	CODE

I  . . . . . . . . . . . . . . .  	L WORD	0004	DATA
I1 . . . . . . . . . . . . . . .  	L WORD	0008	DATA
I2 . . . . . . . . . . . . . . .  	L WORD	000A	DATA

K  . . . . . . . . . . . . . . .  	L WORD	0006	DATA

MAIN . . . . . . . . . . . . . .  	F PROC	0000	CODE	Length = 00AD

RES  . . . . . . . . . . . . . .  	L WORD	000C	DATA
RES1 . . . . . . . . . . . . . .  	L NEAR	00A3	CODE

@CPU . . . . . . . . . . . . . .  	TEXT  0101h		
@FILENAME  . . . . . . . . . . .  	TEXT  lb3		
@VERSION . . . . . . . . . . . .  	TEXT  510		

Microsoft (R) Macro Assembler Version 5.10                  10/20/21 22:08:4
                                                             Symbols-2



    101 Source  Lines
    101 Total   Lines
     31 Symbols

  48030 + 459230 Bytes symbol space free

      0 Warning Errors
      0 Severe  Errors
