Microsoft (R) Macro Assembler Version 5.10                  11/9/21 00:10:41
                                                             Page     1-1


 0000				AStack SEGMENT STACK
 0000  000C[			 DW 12 DUP(?)
	   ????			
			 ]	
				
 0018				AStack ENDS
				
				
 0000				DATA SEGMENT
 0000  0000			a DW 0
 0002  0000			b DW 0
 0004  0000			i DW 0
 0006  0000			k DW 0
 0008  0000			i1 DW 0
 000A  0000			i2 DW 0
 000C  0000			result DW 0
 000E				DATA ENDS
				
 0000				CODE SEGMENT
				ASSUME CS:CODE, DS:DATA, SS:AStack
				
 0000				Main PROC FAR
 0000  1E			 push DS
 0001  2B C0			 sub AX,AX
 0003  50			 push AX
 0004  B8 ---- R		 mov AX,DATA
 0007  8E D8			 mov DS,AX
				 
				 ;Entering data
 0009  C7 06 0000 R 0001	 mov a,1
 000F  C7 06 0002 R 0002	 mov b,2
 0015  C7 06 0004 R 0003	 mov i,3
 001B  C7 06 0006 R 0004	 mov k,4
				 
 0021  A1 0000 R		 mov AX, a
 0024  3B 06 0002 R		 cmp AX, b
 0028  7E 4D			 jle f1_second
				
 002A				f1_first:
 002A  A1 0004 R		    mov AX, i
 002D  D1 E0			    shl AX, 1 ; = 2i
 002F  D1 E0			    shl AX, 1 ; = 4i
 0031  C7 06 0008 R FFFD	    mov i1, -3
 0037  29 06 0008 R		    sub i1, AX ; = -3 - 4i
				  
 003B				f2_first:
 003B  A1 0004 R		    mov AX, i
 003E  D1 E0			    shl AX, 1 ; = 2i
 0040  D1 E0			    shl AX, 1 ; = 4i
 0042  03 06 0004 R		    add AX, i ; = 5i
 0046  03 06 0004 R		    add AX, i ; = 6i
 004A  C7 06 000A R 0004	    mov i2, 4
 0050  29 06 000A R		    sub i2, AX ; = 4 - 6i
 0054  A1 0006 R		    mov AX, k
Microsoft (R) Macro Assembler Version 5.10                  11/9/21 00:10:41
                                                             Page     1-2


 0057  3D 0000			    cmp AX, 0
 005A  7D 4B			    jge f3_second
				
 005C				f3_first:
 005C  A1 0008 R		    mov AX, i1
 005F  3D 0000			    cmp AX, 0
 0062  78 62			    js i1abs ; = |i1|
 0064  A1 000A R		    mov AX, i2
 0067  3D 0000			    cmp AX, 0
 006A  78 56			    js i2abs ; = |i2|
 006C  A1 0008 R		    mov AX,i1
 006F  03 06 000A R		    add AX,i2 ; = |i1| + |i2|
 0073  A3 000C R		    mov result, AX
 0076  CB			    ret
				
 0077				f1_second:
 0077  A1 0004 R		    mov AX, i
 007A  D1 E0			    shl AX, 1 ; = 2i
 007C  03 06 0004 R		    add AX, i ; = 3i
 0080  D1 E0			    shl AX, 1 ; = 6i
 0082  C7 06 0008 R FFF6	    mov i1, -10
 0088  01 06 0008 R		    add i1, AX ; = -10 + 6i
				
 008C				f2_second:
 008C  A1 0004 R		    mov AX, i
 008F  D1 E0			    shl AX, 1 ; = 2i
 0091  03 06 0004 R		    add AX, i ; = 3i
 0095  C7 06 000A R 0006	    mov i2, 6
 009B  01 06 000A R		    add i2, AX ; = 3i + 6
 009F  A1 0006 R		    mov AX, k
 00A2  3D 0000			    cmp AX, 0
 00A5  7C B5			    jl f3_first
				
 00A7				f3_second:
 00A7  A1 0008 R		    mov AX, i1
 00AA  3D 0000			    cmp AX, 0
 00AD  78 17			    js i1abs ; = |i1|
 00AF  A1 0008 R		    mov AX, i1
 00B2  3D 0006			    cmp AX, 6
 00B5  7D 07			    jge case
 00B7  C7 06 000C R 0006	    mov result, 6
 00BD  CB			    ret
				
 00BE				case:
 00BE  A3 000C R		    mov result, AX
 00C1  CB			    ret
				
 00C2				i2abs:
 00C2  F7 1E 000A R		      neg i2 ; = |i2|
				
 00C6				i1abs:
 00C6  F7 1E 0008 R		      neg i1
				
				
Microsoft (R) Macro Assembler Version 5.10                  11/9/21 00:10:41
                                                             Page     1-3


				
 00CA				Main ENDP
 00CA				CODE ENDS
				 END Main
Microsoft (R) Macro Assembler Version 5.10                  11/9/21 00:10:41
                                                             Symbols-1


Segments and Groups:

                N a m e         	Length	 Align	Combine Class

ASTACK . . . . . . . . . . . . .  	0018	PARA	STACK	
CODE . . . . . . . . . . . . . .  	00CA	PARA	NONE	
DATA . . . . . . . . . . . . . .  	000E	PARA	NONE	

Symbols:            

                N a m e         	Type	 Value	 Attr

A  . . . . . . . . . . . . . . .  	L WORD	0000	DATA

B  . . . . . . . . . . . . . . .  	L WORD	0002	DATA

CASE . . . . . . . . . . . . . .  	L NEAR	00BE	CODE

F1_FIRST . . . . . . . . . . . .  	L NEAR	002A	CODE
F1_SECOND  . . . . . . . . . . .  	L NEAR	0077	CODE
F2_FIRST . . . . . . . . . . . .  	L NEAR	003B	CODE
F2_SECOND  . . . . . . . . . . .  	L NEAR	008C	CODE
F3_FIRST . . . . . . . . . . . .  	L NEAR	005C	CODE
F3_SECOND  . . . . . . . . . . .  	L NEAR	00A7	CODE

I  . . . . . . . . . . . . . . .  	L WORD	0004	DATA
I1 . . . . . . . . . . . . . . .  	L WORD	0008	DATA
I1ABS  . . . . . . . . . . . . .  	L NEAR	00C6	CODE
I2 . . . . . . . . . . . . . . .  	L WORD	000A	DATA
I2ABS  . . . . . . . . . . . . .  	L NEAR	00C2	CODE

K  . . . . . . . . . . . . . . .  	L WORD	0006	DATA

MAIN . . . . . . . . . . . . . .  	F PROC	0000	CODE	Length = 00CA

RESULT . . . . . . . . . . . . .  	L WORD	000C	DATA

@CPU . . . . . . . . . . . . . .  	TEXT  0101h		
@FILENAME  . . . . . . . . . . .  	TEXT  lb3		
@VERSION . . . . . . . . . . . .  	TEXT  510		


    109 Source  Lines
    109 Total   Lines
     25 Symbols

  47996 + 461311 Bytes symbol space free

      0 Warning Errors
      0 Severe  Errors
